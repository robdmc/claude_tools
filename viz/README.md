# Viz

A pure rendering engine for Claude Code. Takes pre-materialized data files (Parquet or CSV) and produces publication-quality interactive visualizations with saved PNGs.

Viz does NOT acquire, query, or transform data. The caller (Claude in conversation) handles all data preparation. The data file is the clean interface contract between data generation and rendering.

## Architecture

Viz uses two separate Python environments:

- **Caller's environment** — used for data acquisition, querying, and transformation. The caller writes a Parquet or CSV file.
- **Bundled uv environment** — used exclusively for rendering. Contains matplotlib, seaborn, pandas, and pyarrow.

Parquet/CSV is the boundary between the two environments. This separation means the rendering environment stays lean and predictable regardless of what data stack the caller uses.

## File Convention

All artifacts live in `.viz/` in the working directory:

```
.viz/
  sales_by_region.parquet    # Data file (created by caller)
  sales_by_region.py         # Visualization script (generated by viz)
  sales_by_region.png        # Rendered output
```

Each visualization is a named triplet: data, script, and image.

## Runner CLI

```bash
# Create a new visualization
python viz_runner.py <name>

# Update an existing visualization
python viz_runner.py <name> --overwrite

# List existing visualizations
python viz_runner.py --list
```

## Refinement Workflow

To iterate on a visualization:

1. Read the existing `.py` script in `.viz/`
2. Modify the rendering code
3. Re-run with `--overwrite` to replace the output

The script is always the source of truth for how a visualization looks.

## Dependencies

The bundled rendering environment includes:

- matplotlib
- seaborn
- pandas
- pyarrow

## Installation

Use the `/install` command from the claude_tools repository to launch the interactive installation wizard:

```
/install
```
